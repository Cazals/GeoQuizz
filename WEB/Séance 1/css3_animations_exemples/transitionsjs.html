
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-language" content="fr" />
		<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />

		<title>Les évènements transitions CSS 3 + Javascript</title>



		<style type="text/css">
			form p {
				display: inline;
			}

			#conteneur {
				background: #ddd;
				width: 100px;
				margin: 0;
				padding: 2em;

				-webkit-transition-property: width;
				-webkit-transition-duration: 5s;
			}
		</style>

	</head>

	<body>

		<form action="#" method="get" id="start">
			<p>
				<input type="submit" value="Demarrer" />
			</p>
			<p id="message">

			</p>
		</form>

		<hr />

		<div id="conteneur">
			<p>
				Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				Maecenas fringilla scelerisque magna a feugiat. Integer ut
				facilisis urna.
			</p>
		</div>

		<script type="text/javascript">
			var form = document.getElementById('start');
			var conteneur = document.getElementById('conteneur');
			var message = document.getElementById('message');

			form.onsubmit = function() {
				message.innerHTML = "";
				if (conteneur.style.width != "300px") {
					conteneur.style.width = "300px";
				} else {
					conteneur.style.width = "100px";
				}
				return false;
			}

			conteneur.addEventListener("webkitTransitionEnd",
				function(e) {
					message.innerHTML = "L'animation pour " + e.propertyName + " (" + e.elapsedTime + "s) est terminee.";
				}, false);

		</script>

	</body>
</html>
